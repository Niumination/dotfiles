var q=Object.defineProperty;var F=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var W=(v,f,x)=>f in v?q(v,f,{enumerable:!0,configurable:!0,writable:!0,value:x}):v[f]=x,k=(v,f)=>{for(var x in f||(f={}))H.call(f,x)&&W(v,x,f[x]);if(F)for(var x of F(f))S.call(f,x)&&W(v,x,f[x]);return v};(()=>{var v={15:w=>{"use strict";const _="text/plain",h="us-ascii",b=(i,n)=>n.some(u=>u instanceof RegExp?u.test(i):u===i),P=(i,{stripHash:n})=>{const u=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(i);if(!u)throw new Error(`Invalid URL: ${i}`);let{type:U,data:t,hash:y}=u.groups;const A=U.split(";");y=n?"":y;let p=!1;A[A.length-1]==="base64"&&(A.pop(),p=!0);const E=(A.shift()||"").toLowerCase(),T=[...A.map(C=>{let[I,o=""]=C.split("=").map(a=>a.trim());return I==="charset"&&(o=o.toLowerCase(),o===h)?"":`${I}${o?`=${o}`:""}`}).filter(Boolean)];return p&&T.push("base64"),(T.length!==0||E&&E!==_)&&T.unshift(E),`data:${T.join(";")},${p?t.trim():t}${y?`#${y}`:""}`},R=(i,n)=>{if(n=k({defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},n),i=i.trim(),/^data:/i.test(i))return P(i,n);if(/^view-source:/i.test(i))throw new Error("`view-source:` is not supported as it is a non-standard protocol");const u=i.startsWith("//");!u&&/^\.*\//.test(i)||(i=i.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,n.defaultProtocol));const t=new URL(i);if(n.forceHttp&&n.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(n.forceHttp&&t.protocol==="https:"&&(t.protocol="http:"),n.forceHttps&&t.protocol==="http:"&&(t.protocol="https:"),n.stripAuthentication&&(t.username="",t.password=""),n.stripHash?t.hash="":n.stripTextFragment&&(t.hash=t.hash.replace(/#?:~:text.*?$/i,"")),t.pathname&&(t.pathname=t.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),t.pathname)try{t.pathname=decodeURI(t.pathname)}catch(A){}if(n.removeDirectoryIndex===!0&&(n.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(n.removeDirectoryIndex)&&n.removeDirectoryIndex.length>0){let A=t.pathname.split("/");const p=A[A.length-1];b(p,n.removeDirectoryIndex)&&(A=A.slice(0,A.length-1),t.pathname=A.slice(1).join("/")+"/")}if(t.hostname&&(t.hostname=t.hostname.replace(/\.$/,""),n.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(t.hostname)&&(t.hostname=t.hostname.replace(/^www\./,""))),Array.isArray(n.removeQueryParameters))for(const A of[...t.searchParams.keys()])b(A,n.removeQueryParameters)&&t.searchParams.delete(A);n.removeQueryParameters===!0&&(t.search=""),n.sortQueryParameters&&t.searchParams.sort(),n.removeTrailingSlash&&(t.pathname=t.pathname.replace(/\/$/,""));const y=i;return i=t.toString(),!n.removeSingleSlash&&t.pathname==="/"&&!y.endsWith("/")&&t.hash===""&&(i=i.replace(/\/$/,"")),(n.removeTrailingSlash||t.pathname==="/")&&t.hash===""&&n.removeSingleSlash&&(i=i.replace(/\/$/,"")),u&&!n.normalizeProtocol&&(i=i.replace(/^http:\/\//,"//")),n.stripProtocol&&(i=i.replace(/^(?:https?:)?\/\//,"")),i};w.exports=R},3150:function(w,_){var h,b,P;(function(R,i){if(!0)b=[w],h=i,P=typeof h=="function"?h.apply(_,b):h,P!==void 0&&(w.exports=P);else var n})(this,function(R){"use strict";if(typeof browser=="undefined"){const i=()=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},export:{minArgs:0,maxArgs:0},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},getSubTree:{minArgs:1,maxArgs:1},import:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},setIcon:{minArgs:1,maxArgs:1}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{update:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0}}},downloads:{download:{minArgs:1,maxArgs:1},cancel:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:0,maxArgs:0},setIcon:{minArgs:1,maxArgs:1},show:{minArgs:0,maxArgs:0}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getBrowserInfo:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{create:{minArgs:1,maxArgs:1},captureVisibleTab:{minArgs:0,maxArgs:2},detectLanguage:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},query:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(n).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class u extends WeakMap{constructor(a,g=void 0){super(g);this.createItem=a}get(a){return this.has(a)||this.set(a,this.createItem(a)),super.get(a)}}const U=o=>o&&typeof o=="object"&&typeof o.then=="function",t=(o,a)=>(...g)=>{chrome.runtime.lastError?o.reject(chrome.runtime.lastError):a.singleCallbackArg||g.length===1?o.resolve(g[0]):o.resolve(g)},y=(o,a)=>{const g=l=>l==1?"argument":"arguments";return function(s,...e){if(e.length<a.minArgs)throw new Error(`Expected at least ${a.minArgs} ${g(a.minArgs)} for ${o}(), got ${e.length}`);if(e.length>a.maxArgs)throw new Error(`Expected at most ${a.maxArgs} ${g(a.maxArgs)} for ${o}(), got ${e.length}`);return new Promise((r,c)=>{s[o](...e,t({resolve:r,reject:c},a))})}},A=(o,a,g)=>new Proxy(a,{apply(l,s,e){return g.call(s,o,...e)}});let p=Function.call.bind(Object.prototype.hasOwnProperty);const E=(o,a={},g={})=>{let l=Object.create(null),s={has(e,r){return r in e||r in l},get(e,r,c){if(r in l)return l[r];if(!(r in e))return;let m=e[r];if(typeof m=="function")if(typeof a[r]=="function")m=A(e,e[r],a[r]);else if(p(g,r)){let $=y(r,g[r]);m=A(e,e[r],$)}else m=m.bind(e);else if(typeof m=="object"&&m!==null&&(p(a,r)||p(g,r)))m=E(m,a[r],g[r]);else return Object.defineProperty(l,r,{configurable:!0,enumerable:!0,get(){return e[r]},set($){e[r]=$}}),m;return l[r]=m,m},set(e,r,c,m){return r in l?l[r]=c:e[r]=c,!0},defineProperty(e,r,c){return Reflect.defineProperty(l,r,c)},deleteProperty(e,r){return Reflect.deleteProperty(l,r)}};return new Proxy(o,s)},D=o=>({addListener(a,g,...l){a.addListener(o.get(g),...l)},hasListener(a,g){return a.hasListener(o.get(g))},removeListener(a,g){a.removeListener(o.get(g))}}),T=new u(o=>typeof o!="function"?o:function(g,l,s){let e=o(g,l);if(U(e))return e.then(s,r=>{console.error(r),s(r)}),!0;e!==void 0&&s(e)}),C={runtime:{onMessage:D(T)}},I=Object.assign({},chrome);return E(I,C,n)};R.exports=i()}else R.exports=browser})}},f={};function x(w){var _=f[w];if(_!==void 0)return _.exports;var h=f[w]={exports:{}};return v[w].call(h.exports,h,h.exports,x),h.exports}var B={};(()=>{"use strict";const w="0.0.0.0",_="1112",h="split-tab",b="*://*/*",P=[{id:R(),priority:1,action:{type:chrome.declarativeNetRequest.RuleActionType.MODIFY_HEADERS,responseHeaders:[{header:"x-frame-options",operation:chrome.declarativeNetRequest.HeaderOperation.REMOVE},{header:"content-security-policy",operation:chrome.declarativeNetRequest.HeaderOperation.REMOVE}]},condition:{urlFilter:b,resourceTypes:[chrome.declarativeNetRequest.ResourceType.MAIN_FRAME,chrome.declarativeNetRequest.ResourceType.SUB_FRAME]}}];function R(){return Math.floor(Math.random()*1e5+1)}const i=P;var n=x(3150),u=(s,e,r)=>new Promise((c,m)=>{var $=d=>{try{L(r.next(d))}catch(M){m(M)}},O=d=>{try{L(r.throw(d))}catch(M){m(M)}},L=d=>d.done?c(d.value):Promise.resolve(d.value).then($,O);L((r=r.apply(s,e)).next())});const U=x(15),t=(s="")=>s!=null?Validator.default.isURL(s,{protocols:["http","https","ftp","file","localhost","chrome","chrome-extension"],require_protocol:!0,require_valid_protocol:!0,require_tld:!1}):!1,y=(s,e="")=>{const r=t(e);if(s.nodeName.toLowerCase()==="iframe"){if(!r)if(e!=null||e!=null){const c=e;try{e=U(e),C("GET",e).then(()=>{y(s,e)},()=>{})}catch(m){}return!1}else return!1;return e&&(s.src=e,s.src=s.src),s.onload=()=>{s.src.indexOf(`${devDomain}:${devPort}`)>-1||s.src.indexOf("chrome-extension://")>-1;const c=new CustomEvent("paneload");s.dispatchEvent(c)},!0}else return!1},A=s=>u(void 0,null,function*(){return(yield chrome.storage.local.get(s))[s]||[]}),p=s=>JSON.parse(localStorage.getItem(s))||[],E=s=>u(void 0,null,function*(){const e=yield A(`${prefix}pane`);return e.splice(s,1),yield I(`${prefix}pane`,e),e}),D=s=>{const e=p(`${prefix}pane`);return e.splice(s,1),o(`${prefix}pane`,e),e},T=(s=36)=>Math.random().toString(s).substring(2,15),C=(s,e)=>new Promise((r,c)=>{let m=new XMLHttpRequest;m.open(s,e,!0),m.onload=()=>{m.status>=200&&m.status<300?r(m.response):c({status:m.status,statusText:m.statusText})},m.onerror=()=>{c({status:m.status,statusText:m.statusText})},m.send()}),I=(s,e)=>u(void 0,null,function*(){yield chrome.storage.local.set({[s]:e})}),o=(s,e)=>{localStorage.setItem(s,JSON.stringify(e))};var a=(s,e,r)=>new Promise((c,m)=>{var $=d=>{try{L(r.next(d))}catch(M){m(M)}},O=d=>{try{L(r.throw(d))}catch(M){m(M)}},L=d=>d.done?c(d.value):Promise.resolve(d.value).then($,O);L((r=r.apply(s,e)).next())});n.contextMenus.onClicked.addListener(g);function g(){return a(this,null,function*(){yield l()})}chrome.runtime.onInstalled.addListener(function(){n.contextMenus.create({title:"Open in Split Tab",id:"split-pane",contexts:["all"]})});const l=()=>a(void 0,null,function*(){try{const s=yield n.tabs.query({active:!0,currentWindow:!0}),e=yield A(`${h}pane`),r=[String(s[0].url),...e];let c=r.length;c>1&&r.splice(c),yield I(`${h}pane`,r),yield n.tabs.create({url:"./index.html"})}catch(s){}});chrome.runtime.onInstalled.addListener(()=>{chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[i[0].id],addRules:i},()=>{})})})()})();
